g5k-api (4.5.2) unstable; urgency=low

  * 48c5584 [ci] Remove old packages before building
  * 559d662 Fix http requests done in deployment model

 -- Samir Noir <samir.noir@inria.fr>  Thu, 11 Jun 2020 11:53:52 +0200

g5k-api (4.5.1) unstable; urgency=low

  * 1a9e275 Remove a mention about eventmachine in application_controller
  * 0bd79bb Add missing ActionDispatch::Flash middleware and forgery protection
  * 1e4ec69 [ci] Remove v4 package generation since only devel is used

 -- Samir Noir <samir.noir@inria.fr>  Wed, 10 Jun 2020 09:25:29 +0200

g5k-api (4.5.0) unstable; urgency=low

  * de98b73 simplify boot.rb file
  * d40e107 Remove async_find method which used EventMachine
  * a121b9c Remove notifications: controller, model and test (bug 11928)
  * 9c1b0e1 Remove eventmachine and em-synchrony
  * 70ab850 Disable forgery protection in development environment
  * d5731ef Add byebug to test and development Gems
  * d2fe67f Update rails to 6.0.3 and thin to 1.7.2
  * 68a67d8 [ci] Fix debian packages generation by installing the required bundler
  * eac865e Update em-postgresql-adapter to last version (supporting rails > 5)
  * 90b5c82 Rename media_type helper to api_media_type helper.
  * 1556181 Fix validates_uniqueness_of deprecated case sensitive
  * 24af88d Use mysql2 adapter instead of em-mysql2
  * fd37bf9 Update to rails 6.0
  * f7c9025 Fix post rspec requests by using `body:` instead of send_payload method
  * 40d2aa4 Fix the way of installing bundler and rake (via gem) and remove jessie support from CI
  * e069c09 Update to rails 5.2
  * ea11179 Correctly use throw(:abort) to return false when uid is missing to start a deployment
  * 09f1711 Add libssl-dev to test and build process (required when installing event machine gem)
  * 039ab66 Update to rails 5.1
  * 954d71b Remove deprecated in rspecs
  * 064ef15 Update to rails 5.0.7

 -- Samir Noir <samir.noir@inria.fr>  Tue, 09 Jun 2020 15:54:03 +0200

g5k-api (4.4.8) unstable; urgency=low

  * 95ef50b fix ci when uploading packages
  * 3a8e04b remove stretch from ci, indeed we don't use it for g5k-api
  * 720de59 change the way to generate debian packages
  * 65e2ac4 fix pool size for development database so rake db:setup doesn't fail
  * 3d1dbb7 add buster to ci
  * 0e364da fix non wanted double '/' in Grid5000::Router.uri_to uri contruction
  * 81e0d5d change the way of installing bundler and rake inside the Vagrant VM and update the README
  * 9cf618c upgrade the development environment to buster
  * 2475e0a Change the email sender

 -- Samir Noir <samir.noir@inria.fr>  Wed, 22 Apr 2020 15:45:29 +0200

g5k-api (4.4.7) unstable; urgency=low

  * 829057c Optimize sites/:site/status when a network_address is specified

 -- Lucas Nussbaum <lucas.nussbaum@loria.fr>  Tue, 17 Mar 2020 22:33:47 +0100

g5k-api (4.4.6-20190107161401) jessie; urgency=low

  * b25b121 Resist jobs with bad moldable_ids (see #9998)

 -- David Margery <david.margery@inria.fr>  Tue, 04 Jun 2019 11:50:57 +0000

g5k-api (4.4.5-20190603131116) jessie; urgency=low

  * 7fd1811 [bug #10556] Correct call to :out urls from proxy
  * 175c7ba Keep rake version in Gemfile in sync with dev env
  * 8dc11b4 Update packaging rules to latest version
  * 60a8931 fix #10462: bundler's version must be capped
  * 05e2805 Fail explictly if changelog could not be generated
  * 5547fad Leave logging to systemd, listen only on 127.0.0.1
  * 2c70b6b Update bundle due to security vulnerabilies
  * 42c43ed Commit version 4.4.3
  * 1f089af Avoid daemonization, as is confuses systemd
  * 513f3af Push packages for api-server-v4.*

 -- David Margery <david.margery@inria.fr>  Mon, 03 Jun 2019 13:13:38 +0000

g5k-api (4.4.4-20181130132139) jessie; urgency=low

  * 3cdbdd3 Update bundle due to security vulnerabilies
  * 742eeab Allow for uncommited changes in Gemfile.lock
  * eba2e26 Output unexpected diff to STDERR
  * f8005bd Even more info in the case packaging fails
  * 65bda88 Add helpfull debug message if git state not clean
  * 3e42f07 Update packaging to converge with users-api-ror
  * bf760f7 Update debian packaging compat file
  * c8b23c4 Update script to latest users-api-ror development
  * 93f7a6d Add explicit format file for debian packaging
  * 6a0f5eb Update init from init.d to systemd service file
  * 448fe6f Cleanup debian dir by removing example files
  * 34d6beb Limit un-needed differences with users-api-ror
  * 3faa19f [Packaging] uses the | construct in debian/control
  * a716105 [bug #9792] Make packaging by root easier
  * 692e4b1 fixup! [Bug #9792] Update and use build dependencies
  * 90fea2c fixup! [Bug #9792] Update and use build dependencies
  * 4d43033 fixup! [Bug #9792] Update and use build dependencies
  * 49cd75b fixup! [Bug #9792] Update and use build dependencies
  * 671cb42 [Bug #9792] Update and use build dependencies
  * 6580297 .gitlab-ci.yml: use g5k-deploy-files --only-if-tag instead of shell snippet
  * d7cf2a7 .gitlab-ci.yml: change tags to grid5000-specific tags
  * 3540b4e Commit version 3.8.1
  * eb3a118 Go back to Integers to query moldable_ids
  * 5c9e0d8 [bug 9560] Increase max persistant connections
  * d5a7a3e Commit version 3.8.0

 -- David Margery <david.margery@inria.fr>  Fri, 30 Nov 2018 13:22:57 +0000

g5k-api (4.4.3-1) jessie; urgency=low

  * 23102ec Merge branch 'master' of gitlab.inria.fr:grid5000/g5k-api
  * f33a2be Depend on proper version of em-postgresql-adapter
  * bd4964c Add a logger and logger options to track Fibers
  * f1acbc0 [Gitlab CI] change deployment mode
  * f3d5a28 [jabber] remove any mention of xmpp and jabber
  * 5946829 Merge branch 'cherry-pick-6feba383' into 'master'
  * b4d623d Merge branch 'remove-jabber-connection' into 'devel'

 -- David Margery <david.margery@inria.fr>  Thu, 18 Oct 2018 07:51:44 +0000

g5k-api (4.4.2-1) jessie; urgency=low

  * eb3a118 Go back to Integers to query moldable_ids
  * 5c9e0d8 [bug 9560] Increase max persistant connections

 -- David Margery <david.margery@inria.fr>  Fri, 19 Oct 2018 12:13:29 +0000

g5k-api (3.8.0-1) jessie; urgency=low

  * 23102ec Merge branch 'master' of gitlab.inria.fr:grid5000/g5k-api
  * f33a2be Depend on proper version of em-postgresql-adapter
  * bd4964c Add a logger and logger options to track Fibers
  * f1acbc0 [Gitlab CI] change deployment mode
  * f3d5a28 [jabber] remove any mention of xmpp and jabber
  * 5946829 Merge branch 'cherry-pick-6feba383' into 'master'
  * b4d623d Merge branch 'remove-jabber-connection' into 'devel'
  * a488c89 [Gitlab CI] Go back to previous solution
  * 9a38447 [Gitlab CI] Explicitly require lissl-dev
  * 1c821e0 [Gitlab CI] use except to limit to specific branch
  * 164043a [Gitlab CI] Quote script commands
  * 939fe21 [Gitlab CI] Guard against bad deployment
  * 4f31d53 [Gitlab CI] Make tagged commits really deploy
  * 2866d27 Rename develop branch to devel
  * 2427b7f Update development instructions
  * dc3f431 [Gitlab CI] make a common .gitlab-ci.yml
  * c0a6c61 Stop taking into account HTTP_XFORWARDED_HOST
  * 04cf276 [Dev env] improve setup to test deployments
  * 3815636 Add test script in ruby-cute to test deploy API
  * 90db983 [Dev env] make it easier to switch between dev dbs
  * 43eeb80 fixup! [Packaging] Include distrib codename in changelog
  * 4a5c008 [Packaging] Include distrib codename in changelog
  * 773dd12 [Gitlab CI] Build and publish for stretch
  * e283d65 Stop explicitly require psych as yaml library
  * fba9158 [Gitlab CI] Update provisionning for compatibility
  * c793cd0 [Gitlab CI] Allow failure for tests run in stretch
  * 14b95f5 [Gitlab CI] Update name of a package for stretch
  * a8e6724 [Gitlab CI] Attempt at also testing in stretch
  * 80af85e [Gitlab CI] Setup postgres db, with user and pass
  * 3d8e554 [Gitlab CI] Add a postgres client for test setup
  * 89f918a [Gitlab CI] Change version specification for mysql
  * 45aff0c [Gitlab CI] Attempt to fix mysql version
  * 637a7b6 [Gitlab CI] Setup RAILS_ENV to test when testing
  * 1be6423 [Gitlab CI] First attempt at testing in docker
  * 2cbff41 [Gitlab CI] Attempt to improve the performance
  * 720a317 [Gitlab CI] No longer require reference-repository
  * 2c19460 [Gitlab CI] Use public vagrant box
  * afbd89f [Gitlab CI] Document pipeline activation
  * 9be1216 [Gitlab CI] Correct package name for deploy stage
  * c5f4eba [Gitlab CI] Remove unwanted tab character
  * d9f66aa [Gitlab CI] Add initial version of .gitlab-ci.yml

 -- David Margery <david.margery@inria.fr>  Thu, 18 Oct 2018 11:51:01 +0000

g5k-api (3.7.0-1) jessie; urgency=low

  * 5238362 Merge pull request #56 from grid5000/v3_rails_4.2
  * e1f983e Add isntructions to start a deployment for dev env
  * 030d0c6 Reduce diff to master due to cherry-pick conflicts
  * 3d179c6 Change url generation for quick-start for dev env
  * 86645b0 Remove Reims from the sites expected for dev env
  * 0ba05e5 Indent logs
  * d008370 Unit test Repository.find's exception handling
  * 640a1ef Handle Grit::Git::GitTimeout gracefully in find
  * f51ca70 Test for when Grit::Git::GitTimeout is raised
  * e3e1532 Add 'X-Api-User-Cn' together with 'X-Remote-Ident' header when calling OAR API
  * 6c0a204 Implement support for tls options (bug #8379)
  * 5355d08 Use X_FORWARDED_HOST only for base_uri(:in)
  * 0e67749 Overide protocol for servers:port when routing
  * 9d5e591 Make reference to exhibit relative
  * 684a45f Compute absolute urls using X-Forwarded-Host
  * 8d8325e Aggree that leaving a trailing / for root is OK
  * c192723 Document the semantics of the headers
  * e0c83fa Implement and test API* headers as in bug #8489
  * 1953176 Update deployment model and controller to rails 4
  * 476a236 Change defaults for production environment
  * d1dbb32 Make the package depend on nodejs
  * c083da5 Revert to old boot.rb to allow vendored bundler
  * a0903cb Rework test and fix remaining issue with rails 4.2
  * 425d603 Remove complex instructions about tunneling
  * 4dee48b Migrate to Rails 4.2.x & adapt code so tests pass
  * 80c352c Migrate to Rails 4.1.x & adapt code so tests pass
  * 7f8fd72 Migrate to Rails 4.0.x & adapt code so tests pass
  * 7d6d41a Add a secret key base for sessions to please rails
  * 9ef794e modernize test data setup dans rename fail state
  * b66f85c explicitly setup factory_box helpers
  * 6e53d05 stop constraining the version of bundler used
  * 5bf8e0c Make default in DB same as in state_machine
  * d607a90 Use new syntax for factory_bot factories
  * ac4df1c Require bundled gems and use implicit config
  * 9eb2e5d Tweak gem versions and removed unuses dependencies
  * 4560957 Update handling of tls options for kadeploy
  * e4dcae9 Update handling of tls options for rails 3.2
  * 7911ece stop calling uri on http object when logging
  * 2b7d520 Complete migration to factory_bot
  * 69ec104 Use version of em-postgresl-adapter avoiding race
  * c76efdf Really copy .gitconfig into box when it exists
  * aef5a06 Move generated file out of status
  * 3813fcc Rework ssh tunneling and proxy setup
  * 1e99471 Change the way ssh is setup for vagrant user
  * 20939ad Change the way postgresql databases are setup
  * 9586d40 Refresh README contents
  * 630b147 Migrate to factory_bot from factory_girl
  * 5808c4b Use our own version of em-postgresql-adapter gem
  * 3e1bf95 Work around broken redirect for status
  * 888ad2f Update deprecated call to redirect
  * 98b8a2a Reduce size of mysql pool used
  * 3b9c09f Move to rails 3.2. Initial work passes rspec tests

 -- David Margery <david.margery@inria.fr>  Wed, 29 Aug 2018 13:40:37 +0000

g5k-api (3.6.1-1) jessie; urgency=low

  * e88adc5 Merge pull request #52 from grid5000/bugs/#9337
  * d299885 Handle OAR databases with no disk in resources
  * d0e5399 Test handling of different OAR database schemas
  * 98ee697 Update configuration for development env with oar
  * 196a54d Romove duplicate config.use_transactional_fixtures

 -- David Margery <david.margery@inria.fr>  Mon, 04 Jun 2018 14:57:51 +0000

g5k-api (3.6.0-1) jessie; urgency=low

  * ba0dd08 Finalize advertissement of free_slots by status
  * 1d379fd Update test case name to reflect what is tested
  * a8f483c Test that status uid is a unix timestamp
  * 1ae4ad7 make status code readable again
  * f2723bd Explicitly test for handling of oar's default type
  * 58dcb4b Correct comment on sites_controller_spec
  * 9b60ff5 Merge implementations of status & status_for_disk
  * 0dc8cba Limit the queries to oar's db by using a union
  * 837a75e Limit queried jobs to build status for anonymous
  * 75548af Explicitly handle anonymous users
  * a7117ad Test correct behaviour for anonymous users

 -- David Margery <david.margery@inria.fr>  Wed, 30 May 2018 09:33:19 +0000

g5k-api (3.5.10-1) jessie; urgency=low

  * 8323955 Merge pull request #48 from grid5000/bug7970-status-api-performance-v3
  * 2469dc0 status api: add waiting query string
  * 093f3e5 status api: add job_details query string
  * 2564378 status api: add disks query string
  * bdb47a7 status api: add network_address query string
  * a34b069 Fix puppet apt-get upgrade timeout error
  * 6311791 Add noop jobs in test database and update existing tests
  * 03778d5 Add disk reservations display in status API
  * 78efe5b Add disk reservations display in jobs API
  * 94bce38 Add jobs with disk reservations in test database and update existing tests
  * c349d81 Remove resources with blank network_address from "status" output
  * fc29ede Complement README with new rake task
  * 0bf0ec0 Add rake tasks to manage the OAR2 database
  * 709c98d Update versions used for rake, fix junit formater
  * 2811847 fixup! Removes Timezone from reference Time in test
  * 8e37609 Removes Timezone from reference Time in test
  * a5952ff Add gem for better jenkins integration
  * 6658299 fixup! Adapt puppet rule to usage outside vagrant
  * ab5c1ba Adapt puppet rule to usage outside vagrant

 -- Florent Didier <florent.didier@inria.fr>  Wed, 31 Jan 2018 17:55:00 +0000

g5k-api (3.5.9-1) jessie; urgency=low

  * 67f20d5 Implement support for tls options (bug #8379)
  * 2e1192b Patch tunnels for development to access v3 tunnels

 -- David Margery <david.margery@inria.fr>  Thu, 09 Nov 2017 12:57:57 +0000

g5k-api (3.5.8-1) jessie; urgency=low

  * 6b28b9d Merge pull request #45 from grid5000/bugs/#8379/tls_client_certs_v3
  * f7616da Upgrade the Box' packages upon provision
  * 3e63764 Add TLS as possible suspect for failed connexions
  * 359e1ee Update dev environment to be able to test ssl
  * b35ba75 Implement support for tls options (bug #8379)
  * 893aee0 Update to rspecs supporting rake 12.0 for 3.x code
  * d2a6790 Update to rspec-rails & rspec supporting rake 12.0

 -- David Margery <david.margery@inria.fr>  Wed, 08 Nov 2017 10:56:03 +0000

g5k-api (3.5.7-1) jessie; urgency=low

  * 5a40e72 Fix bug #8266: correct XMPP reconnection retries
  * 148cc0d Update the expected version of rake
  * 2e5ee01 Applies cosmetic changes to limit diff
  * ea49c95 Fixes some README typos and presentation issues
  * 84d5c5e Updates the stress-script to use the public API
  * 81aa936 Adds a script to stress a single instance
  * 04cb48e Updates instructions on how to change test datasets
  * 5b72930 Attempts to cleanly fix bundler and rake versions
  * d02bdab Update rspec expectation syntax for cluster controller
  * 9746f49 Adds spec test to check for /servers link
  * 30ae02b Tweak to the vagrant file to give .gitconfig information to the vagrant VM
  * c2e6975 added logic & spec tests for /servers
  * 80f822a added /servers to site nancy
  * 24c7e1f Cleared accidental removal of nancy clusters
  * 9ad255b move code to set sane defaults in the params to a separate function
  * b5655cc move code to extract an object from the git repo according to params into a specific function
  * 582d4e5 No longer go through http requests to get the list of clusters of a given site
  * adaa726 Fix indentation
  * 1cb3130 Factor out the building of the job description
  * 880cc7a Commit version 3.5.5
  * 0efdb74 Complete the possible states for a positive check to optimize performance of query as per bug #7970
  * 778d0f3 Commit version 3.5.4
  * e4dd9fa Change query to increase performance of requests as per bug #7970
  * a31279a Commit version 3.5.3
  * dcdce02 Modified the mechanism for URI construction - for test & development environments. Added spec tests also.
  * 307eecf Commit version 3.5.2
  * 6e314aa [Vagrant] use a better condition de control the bundle install run
  * 2ab40a7 fixes #7285 : remove reliance on availability of smt_size to count the number of cores
  * 5daa16b Add a precaution against variable header length due to different locales (add missing part of fix)
  * c4a1192 Add a precaution against variable header length due to different locales
  * 7dbfba3 [ui] allow quick start to select on queues the resources are available on
  * abbc568 [Vagrant] Change the proxy rules so as to cover most cases
  * 4a13978 [ui] change the behaviour of the filtering mechanism so that filters of different facets intersect rather that add
  * baf10dc [ui] use the internal API to get a list of registrere kadeploy environments
  * 9ee3fe7 [packaging] Add description to the debian packaging task
  * 9d49966 Commit version 3.5.1
  * 6809a80 [Javascript] Keep the vendorized exhibit version in the repository
  * 34398f0 [Development environment] serve exhibitv2 from the local development environment and not from api.grid5000.fr
  * 622b207 [Vagrant] Add a more robust test to see whether bundle should be run, until we change rails version
  * 4d1e894 [Default configuration] Also listen to IPv6 connections if -a not specified on the command line
  * a5f48f7 New test was not successful: reverting to a variant of the previous test
  * ebce08a Do not constrain rake version to have same rake version as pulled from rubygems during Vagrant provisioning
  * a986a00 [Vagrant] do not forget to provision the apache proxy
  * c9274a0 Make error message in the presence of IPv6 more explicit
  * 45d5366 [Vagrant] add a magic ssh config file so as to be able to ssh from the Vagrant machine using the ssh-agent on the host
  * 937ac88 [Vagrant] add an http proxy to the vagrant box so as to be able to work on the ui with real data for OAR, except for one site where the data will come from the local service, that will connect as reader to the OAR database. Update the README.md file with extended instructions, in particular on how to use the tunneling task with rake to create the proper tunnels to make it all happen
  * 8a48632 [Vagrant] Point Vagrantfile to a new version of the vagrant box. Users of previous version will need to destroy their debian-jessie-x64-puppet_4 box or upgrade it to benefit from the update
  * ead3407 [ui] make the ui more resistant to changes in the API and in the contents of the reference-repo
  * 7eeec49 Update documentation
  * b64e046 Remove extra gems for the development environment, as this makes the development environment behave differently than the production environment
  * 183fc50 [Capistrano] remove packaging task, now moved to lib/task/packaging.rake to run using rake in the vagrant box
  * 8294625 [Packaging] Minor tweaks to the packaging task
  * 4c5459b Commit version 3.5.0
  * 65f4de5 [README] Update the instructions to build a new version of the g5k-api package
  * c049251 [Packaging] make the automatic inclusion of git logs in debian/changelog work again
  * fdcaf45 [development environment] Update the default config to use a live OAR database made available through tunneling
  * f0699ff [Vagrant] Update the developpment.pp file so that build dependencies of gems with native gems are made available out of the box
  * b8af9c0 [Packaging] Allow usage of vendorized bundler
  * 8222891 [Packaging] Correct posinst script creting /usr/bin/g5k-api
  * 9acd344 [Packaging] Correct issue in ruby dependency version
  * f78f9f2 [Packaging] Work on changes to package in the vagrant box, without capistrano
  * 4e169a7 [Vagrant] Support of puppet 4 with vagrant 2.7.x seems difficult. Put a minimum requirement on the version of Vagrant to be used
  * fd56af2 [Vagrant] update instructions to upload a box from the insecure vagrant.irisa.fr
  * c4bbd9a [Vagrant] correct bundle install puppet exec step with proper unless clause
  * 55d1e73 [Vagrant] add bundle install as a automated step during provisioning
  * 1f24373 [Vagrant] use the puppet provisionner in a puppet 4 compatible way
  * 6353419 [jessie] Cleanup the Gemfile so as to remove comments raom previous specification and version fixing that where probably no longer needed. Tested correct by running the unit tests
  * 2cdd89c [jessie] The latest version of bundler sees our Gemfile.lock as being corrupt: seems linked to bundler issue #4147, that should be solved with the version pulled on Jessie but is not for us. Fix the version until this is investigated further.
  * f9c9ed5 [jessie] ruby-dev package is required to build some gems
  * 9e6bb62 [jessie] Update the yaml engine used to handle using ruby 2.1
  * 2e029cb [jessie] Update the Gemfile to support ruby2.1 by replae rcov by simplecov
  * 83f7de4 [jessie] iron out an other timezone heuristic handllin
  * 484a330 [jessie] update the code of XMPP library to handle aliases better
  * e2bb04c [ruby2.1] It seems that in ruby 2.1 Time.parse("Fri Mar 13 16:24:20 2009 +0000")==Time.parse("Fri Mar 13 16:24:20 2009 +0100") ! Update the test to circumvent the change in hueruistics used by parse
  * c088162 [Jessie] update Vagrantfile and puppet recipes to be able to provision a debian 8.2 VM with no errors
  * 7d8be29 [README] Attempt at a better looking second level item
  * 31a62f9 [README] Cleanup the markup a bit more
  * 909502f [README] Cleanup the markup
  * eba0b8c [README] update the instruction to develop from the vagrant box
  * a699ed0 [Vagrant] add directory to allow running rails from the vagrant box
  * be7f838 [wheezy] update rake version to 11.1.1
  * b0dc626 [cleanup] Clean up commented code used for tests
  * 75dcd41 [wheezy] update blather using code (config/initializers/jabber.rb) to properly handle disconnects. Tested live
  * 93c6f06 [Vagrant] Updating provisionning recipes and configuration so that the vagrant box can be used as development box
  * bd697d9 [Wheezy] make the minimal updates to gems to use versions that compile on wheezy despite -Werror=format-security default behaviour by the gcc version used by wheezy (update blather, eventmachine, nokogiri), while keeping .gemspec files compatible with the native version of reubygems (downgrade autotest).
  * 330428e [git] Add *~ to gitignore for emacs users such as myself
  * 9f5bbd2 [Vagrant box] Change ports used by database so that tests can be run from the vagrant box itself
  * dc71536 [Provisioning] Handle provisonning of development and test mysql databases in a nicer way
  * a48f932 [packaging] make sure the packaging task does not block due to missing suitable DEBIAN_FRONTEND
  * 977746f [Vagrant] Update vagrant instruction to stay compatible with older versions og vagrant while handling the removal of the insecure key promoted by recent versions
  * bb02624 [README] Update instructions to bypass insecire https cert of vagrant.irisa.fr
  * 1eca7dc [provisioning] add some more precise dependencies
  * e2e1fec [packaging] Update version of thin gem so it can compile on wheezy
  * cb6706c [packaging] Add postgres packages (libpq-dev) as explicit dependency
  * 0d04250 [packaging] Update the version number for eventmachine'
  * f6f3d49 [packaging] Attempt a quick update to event machine so it compiles on wheezy
  * f1d7217 [packaging] Require bundler version 1.7.6 to attempt to bypass the "Your Gemfile.lock is corrupt. The following gems are missing from the DEPENDENCIES section: archive-tar-minitar hoe rcov" error message
  * 748eff3 update the packaging instructions so as to be able to package on a wheezy system
  * 609b87f Update vagrant VM to wheezy

 -- David Margery <david.margery@inria.fr>  Mon, 26 Jun 2017 14:52:49 +0000

g5k-api (3.5.6-1) jessie; urgency=low

  * d8aec14 No longer go through http requests to get the list of clusters of a given site
  * 0e7f036 move code to set sane defaults in the params to a separate function
  * 963537a move code to extract an object from the git repo according to params into a specific function
  * a0918a6 Merge pull request #34 from lnussbaum/master
  * 50c12fb Fix indentation
  * 4a3f454 Factor out the building of the job description

 -- David Margery <david.margery@inria.fr>  Mon, 3 Apr 2017 11:14:18 +0000

g5k-api (3.5.5-1) jessie; urgency=low

  * 8df1964 Complete the possible states for a positive check to optimize performance of query as per bug #7970

 -- David Margery <david.margery@inria.fr>  Mon, 3 Apr 2017 10:24:35 +0000

g5k-api (3.5.4-1) jessie; urgency=low
  * a29423b Change query to increase performance of requests as per bug #7970

 -- David Margery <>  Sat, 01 Apr 2017 12:53:45 +0000

g5k-api (3.5.3-1) jessie; urgency=low

  * 600b3af Modified the mechanism for URI construction - for test & development environments. Added spec tests also.
  * e76ab49 Merge pull request #30 from nirvanesque/bugs/#7464
  * 2afcd47 added logic & spec tests for /servers
  * 30dbc6a added /servers to site nancy
  * 8e2261f Cleared accidental removal of nancy clusters

 -- David Margery <>  Mon, 12 Dec 2016 15:20:16 +0000

g5k-api (3.5.2-1) jessie; urgency=low

  * 6e314aa [Vagrant] use a better condition de control the bundle install run
  * 2ab40a7 fixes #7285 : remove reliance on availability of smt_size to count the number of cores
  * 5daa16b Add a precaution against variable header length due to different locales (add missing part of fix)
  * c4a1192 Add a precaution against variable header length due to different locales
  * 7dbfba3 [ui] allow quick start to select on queues the resources are available on
  * abbc568 [Vagrant] Change the proxy rules so as to cover most cases
  * 4a13978 [ui] change the behaviour of the filtering mechanism so that filters of different facets intersect rather that add
  * baf10dc [ui] use the internal API to get a list of registrere kadeploy environments
  * 9ee3fe7 [packaging] Add description to the debian packaging task

 -- David Margery <>  Thu, 08 Sep 2016 13:51:10 +0000

g5k-api (3.5.1-1) jessie; urgency=low

  * 6809a80 [Javascript] Keep the vendorized exhibit version in the repository
  * 34398f0 [Development environment] serve exhibitv2 from the local development environment and not from api.grid5000.fr
  * 622b207 [Vagrant] Add a more robust test to see whether bundle should be run, until we change rails version
  * 4d1e894 [Default configuration] Also listen to IPv6 connections if -a not specified on the command line
  * a5f48f7 New test was not successful: reverting to a variant of the previous test
  * ebce08a Do not constrain rake version to have same rake version as pulled from rubygems during Vagrant provisioning
  * a986a00 [Vagrant] do not forget to provision the apache proxy
  * c9274a0 Make error message in the presence of IPv6 more explicit
  * 45d5366 [Vagrant] add a magic ssh config file so as to be able to ssh from the Vagrant machine using the ssh-agent on the host
  * 937ac88 [Vagrant] add an http proxy to the vagrant box so as to be able to work on the ui with real data for OAR, except for one site where the data will come from the local service, that will connect as reader to the OAR database. Update the README.md file with extended instructions, in particular on how to use the tunneling task with rake to create the proper tunnels to make it all happen
  * 8a48632 [Vagrant] Point Vagrantfile to a new version of the vagrant box. Users of previous version will need to destroy their debian-jessie-x64-puppet_4 box or upgrade it to benefit from the update
  * ead3407 [ui] make the ui more resistant to changes in the API and in the contents of the reference-repo
  * 7eeec49 Update documentation
  * b64e046 Remove extra gems for the development environment, as this makes the development environment behave differently than the production environment
  * 183fc50 [Capistrano] remove packaging task, now moved to lib/task/packaging.rake to run using rake in the vagrant box
  * 8294625 [Packaging] Minor tweaks to the packaging task

 -- David Margery <>  Thu, 25 Aug 2016 16:31:09 +0000

g5k-api (3.5.0-1) jessie; urgency=low

  * 65f4de5 [README] Update the instructions to build a new version of the g5k-api package
  * c049251 [Packaging] make the automatic inclusion of git logs in debian/changelog work again
  * fdcaf45 [development environment] Update the default config to use a live OAR database made available through tunneling
  * f0699ff [Vagrant] Update the developpment.pp file so that build dependencies of gems with native gems are made available out of the box
  * b8af9c0 [Packaging] Allow usage of vendorized bundler
  * 8222891 [Packaging] Correct posinst script creting /usr/bin/g5k-api
  * 9acd344 [Packaging] Correct issue in ruby dependency version
  * f78f9f2 [Packaging] Work on changes to package in the vagrant box, without capistrano
  * 4e169a7 [Vagrant] Support of puppet 4 with vagrant 2.7.x seems difficult. Put a minimum requirement on the version of Vagrant to be used
  * fd56af2 [Vagrant] update instructions to upload a box from the insecure vagrant.irisa.fr
  * c4bbd9a [Vagrant] correct bundle install puppet exec step with proper unless clause
  * 55d1e73 [Vagrant] add bundle install as a automated step during provisioning
  * 1f24373 [Vagrant] use the puppet provisionner in a puppet 4 compatible way
  * 6353419 [jessie] Cleanup the Gemfile so as to remove comments raom previous specification and version fixing that where probably no longer needed. Tested correct by running the unit tests
  * 2cdd89c [jessie] The latest version of bundler sees our Gemfile.lock as being corrupt: seems linked to bundler issue #4147, that should be solved with the version pulled on Jessie but is not for us. Fix the version until this is investigated further.
  * f9c9ed5 [jessie] ruby-dev package is required to build some gems
  * 9e6bb62 [jessie] Update the yaml engine used to handle using ruby 2.1
  * 2e029cb [jessie] Update the Gemfile to support ruby2.1 by replae rcov by simplecov
  * 83f7de4 [jessie] iron out an other timezone heuristic handllin
  * 484a330 [jessie] update the code of XMPP library to handle aliases better
  * e2bb04c [ruby2.1] It seems that in ruby 2.1 Time.parse("Fri Mar 13 16:24:20 2009 +0000")==Time.parse("Fri Mar 13 16:24:20 2009 +0100") ! Update the test to circumvent the change in hueruistics used by parse
  * c088162 [Jessie] update Vagrantfile and puppet recipes to be able to provision a debian 8.2 VM with no errors
  * 7d8be29 [README] Attempt at a better looking second level item
  * 31a62f9 [README] Cleanup the markup a bit more
  * 909502f [README] Cleanup the markup
  * eba0b8c [README] update the instruction to develop from the vagrant box
  * a699ed0 [Vagrant] add directory to allow running rails from the vagrant box
  * be7f838 [wheezy] update rake version to 11.1.1
  * b0dc626 [cleanup] Clean up commented code used for tests
  * 75dcd41 [wheezy] update blather using code (config/initializers/jabber.rb) to properly handle disconnects. Tested live
  * 93c6f06 [Vagrant] Updating provisionning recipes and configuration so that the vagrant box can be used as development box
  * bd697d9 [Wheezy] make the minimal updates to gems to use versions that compile on wheezy despite -Werror=format-security default behaviour by the gcc version used by wheezy (update blather, eventmachine, nokogiri), while keeping .gemspec files compatible with the native version of reubygems (downgrade autotest).
  * 330428e [git] Add *~ to gitignore for emacs users such as myself
  * 9f5bbd2 [Vagrant box] Change ports used by database so that tests can be run from the vagrant box itself
  * dc71536 [Provisioning] Handle provisonning of development and test mysql databases in a nicer way
  * a48f932 [packaging] make sure the packaging task does not block due to missing suitable DEBIAN_FRONTEND
  * 977746f [Vagrant] Update vagrant instruction to stay compatible with older versions og vagrant while handling the removal of the insecure key promoted by recent versions
  * bb02624 [README] Update instructions to bypass insecire https cert of vagrant.irisa.fr
  * 1eca7dc [provisioning] add some more precise dependencies
  * e2e1fec [packaging] Update version of thin gem so it can compile on wheezy
  * cb6706c [packaging] Add postgres packages (libpq-dev) as explicit dependency
  * 0d04250 [packaging] Update the version number for eventmachine'
  * f6f3d49 [packaging] Attempt a quick update to event machine so it compiles on wheezy
  * f1d7217 [packaging] Require bundler version 1.7.6 to attempt to bypass the "Your Gemfile.lock is corrupt. The following gems are missing from the DEPENDENCIES section: archive-tar-minitar hoe rcov" error message
  * 748eff3 update the packaging instructions so as to be able to package on a wheezy system
  * 609b87f Update vagrant VM to wheezy

 --  <>  Wed, 27 Apr 2016 12:46:29 +0000

g5k-api (3.4.12-1) unstable; urgency=low

  * 20a7ead release v3.4.12

 -- David Margery <david.margery@inria.fr>  Wed, 16 Mar 2016 15:43:05 +0100

g5k-api (3.4.11-1) unstable; urgency=low

  * release version 3.4.11

 -- David Margery <david.margery@inria.fr>  Fri, 11 Mar 2016 10:19:24 +0100

g5k-api (3.4.10-1) unstable; urgency=low

  * release version 3.4.10

 -- David Margery <david.margery@inria.fr>  Mon, 28 Sep 2015 17:35:06 +0200

g5k-api (3.4.9-1) unstable; urgency=low

  * release version 3.4.9

 -- David Margery <david.margery@inria.fr>  Mon, 28 Sep 2015 17:21:49 +0200

g5k-api (3.4.8-1) unstable; urgency=low

  * release version 3.4.8

 -- David Margery <david.margery@inria.fr>  Tue, 28 Jul 2015 13:49:49 +0200

g5k-api (3.4.7-1) unstable; urgency=low

  * release version 3.4.7

 -- David Margery <david.margery@inria.fr>  Tue, 28 Jul 2015 13:34:15 +0200

g5k-api (3.4.6-1) unstable; urgency=low

  * release version 3.4.6

 -- David Margery <david.margery@inria.fr>  Tue, 28 Jul 2015 12:05:40 +0200

g5k-api (3.4.5-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Mon, 27 Jul 2015 13:46:42 +0200

g5k-api (3.4.4-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Fri, 24 Jul 2015 18:16:09 +0200

g5k-api (3.4.3-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Fri, 24 Jul 2015 18:10:30 +0200

g5k-api (3.4.2-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Fri, 24 Jul 2015 17:57:03 +0200

g5k-api (3.4.1-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Fri, 24 Jul 2015 14:15:36 +0200

g5k-api (3.4.0-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Fri, 24 Jul 2015 12:04:30 +0200

g5k-api (3.3.5-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Wed, 15 Jul 2015 17:33:39 +0200

g5k-api (3.3.4-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Wed, 15 Jul 2015 16:47:44 +0200

g5k-api (3.3.3-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Wed, 15 Jul 2015 16:28:29 +0200

g5k-api (3.3.2-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Wed, 15 Jul 2015 13:50:29 +0200

g5k-api (3.3.1-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Wed, 15 Jul 2015 11:53:45 +0200

g5k-api (3.3.0-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Fri, 10 Jul 2015 17:16:03 +0200

g5k-api (3.2.7-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Mon, 06 Jul 2015 15:55:47 +0200

g5k-api (3.2.6-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Mon, 06 Jul 2015 15:04:56 +0200

g5k-api (3.2.5-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Fri, 03 Jul 2015 18:19:21 +0200

g5k-api (3.2.4-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Fri, 03 Jul 2015 18:16:11 +0200

g5k-api (3.2.3-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Thu, 25 Jun 2015 09:30:54 +0200

g5k-api (3.2.2-1) unstable; urgency=low



 -- David Margery <david.margery@inria.fr>  Tue, 23 Jun 2015 15:08:24 +0200

g5k-api (3.2.1-1) unstable; urgency=low



 -- Anirvan BASU <Anirvan.BASU@INRIA.fr>  Mon, 27 Apr 2015 16:03:50 +0200

g5k-api (3.2.0-1) unstable; urgency=low

  * Release version 3.2.0

 -- Anirvan BASU <Anirvan.BASU@INRIA.fr>  Tue, 24 Mar 2015 14:14:16 +0100

g5k-api (3.1.8-1) unstable; urgency=low

  * 3d594d7 [deploy] Bugfix: return 201 HTTP code on POST requests
  * 7bc4d31 [deploy] Check timeouts when contacting the Kadeploy native API

 -- Luc Sarzyniec <luc.sarzyniec@inria.fr>  Tue, 25 Feb 2014 14:48:09 +0100

g5k-api (3.1.7-1) unstable; urgency=low

  * 75df304 [deploy] Add hook parameter when calling Kadeploy native API
  * bb34630 [deploy] New way to return kadeploy error: the error is written in the output field and not crash on PUT; on error, the native workflow is cleaned
  * 0764e31 [deploy] Do not put kadeploy outputs in the output field anymore
  * f49e8c0 [deploy] Bugfix: the "limit" parameter (GET /deployment) was broken
  * e0a8bfa Removed the Kadeploy library
  * 162fe79 Integration with Kadeploy 3.2 API
  * 34ef049 Bugfix: repair cap develop, gateway was not created properly
  * 50ba106 [puppet] Update puppet recipe, and add doc for dev env
  * 922b384 v3.1.5

 -- Luc Sarzyniec <luc.sarzyniec@inria.fr>  Thu, 13 Feb 2014 11:25:30 +0100

g5k-api (3.1.6-1) unstable; urgency=low

  * Remove kadeploy-common-dev dependency (useless with Kadeploy 3.2)

 -- Luc Sarzyniec <luc.sarzyniec@inria.fr>  Fri, 31 Jan 2014 13:21:40 +0100

g5k-api (3.1.5-1) unstable; urgency=low

  * 853008e [ui/js] Remove killer feature (twitter timeline on dashboard)
  * 5abaaf1 [app/ui] Backport /2.0/nodes.html to /3.0, /sid API (reference-repository visualisation)
  * d29e990 [app/ui] s/chrome/firefox (chapel wars :-))
  * 988fe4e [app/ui] Vendorize exhibit 2.2.0 simile widgets (remove unsecure content)  (refs: #4567)
  * 34ed006 [ui/layout] Vendorize jquery (1.4.2) remove external query to an unsecure content on Google…
  * 5427859 [ui/layout] Update bugzilla link, and contact email

 -- Sebastien Badia <sebastien.badia@inria.fr>  Wed, 28 Aug 2013 18:56:44 +0200

g5k-api (3.1.4-1) unstable; urgency=low

  * d94ddd9 [lib] Switch to kadeploy-common-dev package
  * 5c44a5c [debian] Fix changelog

 -- Sebastien Badia <sebastien.badia@inria.fr>  Mon, 27 May 2013 17:06:36 +0200

g5k-api (3.1.3-1) unstable; urgency=low

  * a4bb0e9 [doc/rake] Remove old kadeploy tasks, update doc
  * 7aa2ce1 [kadeploy/libs] Remove kadeploy 3.1.6.x libs (use kadeploy-common package)

 -- Sebastien Badia <sebastien.badia@inria.fr>  Wed, 24 Apr 2013 18:27:16 +0200

g5k-api (3.1.2-1) unstable; urgency=low

  * 2c24e33 update kadeploy3 libs to 3.1.6~rc10, remove ugly ruby 1.9.2 fixes (fileutils,ping)
  * 31b559b [kadeploy/libs] Remove requires on ping and ftools (removed in ruby 1.9.1)(refs: #4819)

 -- Sebastien Badia <sebastien.badia@inria.fr>  Tue, 05 Feb 2013 20:48:16 +0100

g5k-api (3.1.1-1) unstable; urgency=low

  * ae2c307 update readme for upgrade process, according https://www.grid5000.fr/mediawiki/index.php/Kadeploy3_Administration#Update_process
  * b5d663e use branch 3.1.6 of kadeploy
  * 0e14097 update kadeploy3 libs to 3.1.6~rc8
  * 207b1e6 Git ignore .vagrant
  * b7819f6 Add Vagrant option documentation
  * 7bc9b7e Add Vagrant support for packaging
  * 40f1f53 Add an interface to the Vagrant VM in order to do ssh for packaging

 -- Sebastien Badia <sebastien.badia@inria.fr>  Fri, 01 Feb 2013 15:57:55 +0100

g5k-api (3.1.0-1) unstable; urgency=low

  * 45acf01 Add a Vagrantfile for a local development environment
  * 2ff2c2e Add Pdus resources
  * 3abb073 Use g5k-campaign 0.9.3 (0.9.2 unavailable on gforge repo !!)

 --  <>  Wed, 12 Dec 2012 10:28:48 +0100

g5k-api (3.0.37-1) unstable; urgency=low

  * 9585824 Merge branch 'master' of git.grid5000.fr:/srv/git/repos/g5k-api
  * 0c98cac Adding warning about unsecure content in chrome/chromium

 -- Sebastien Badia <sebastien.badia@inria.fr>  Thu, 08 Nov 2012 10:48:03 +0100

g5k-api (3.0.36-1) unstable; urgency=low

  * d407820 update kadeploy3 libs (v3.1.5.2)
  * f6c532c update kadeploy rake task (rake kadeploy:upgrade BRANCH=3.1.5)
  * 1de765d Also serialize [] to JSON, it makes [] converted to '[]' (Array to string) which prevents ActiveRecord to serialize it to YAML, closes #4346
  * 1b805d5 Merge branch 'master' of git.grid5000.fr:/srv/git/repos/g5k-api
  * 3c346c8 revert to 3.0.35, use puppet to configure kadeploy-dev
  * b0a25ec Correct deploy task (cap release rights)
  * 7f9faa3 Use kadeploy-dev to deploy
  * 0b6c6ea v3.0.36

 -- Sebastien Badia <sebastien.badia@inria.fr>  Tue, 23 Oct 2012 15:06:04 +0200

g5k-api (3.0.36-1) unstable; urgency=low

  * c15c1e4 Add comment for kadeploy client config (uri/port)
  * fe3398a ensure owner g5kadmin for g5k-api repository
  * 555dd5b update package generation task

 -- Elodie Bertoncello <elodie.bertoncello@inria.fr>  Fri, 07 Sep 2012 15:20:55 +0200

g5k-api (3.0.35-1) unstable; urgency=low

  * 3e86b1c add tips for nokorigri and mysql2 gems on debian based systems
  * c989080 correct gemfile rake version
  * fe4cf20 switch to ruby-1.9.3-p194
  * 622642c Merge branch 'master' of ssh://git.api/srv/git/repos/g5k-api
  * 79a5775 remove overrid of config.user (Bug #4378)
  * e23b70c Revert "remove env_user, not needed anymore with kadeploy 3.1.5"
  * 21542f5 update lib for kadeploy 3.1.5
  * 1372991 remove env_user, not needed anymore with kadeploy 3.1.5

 -- Sebastien Badia <sebastien.badia@inria.fr>  Tue, 10 Jul 2012 14:49:16 +0200

g5k-api (3.0.34-1) unstable; urgency=low

  * 0888a01 Don't get resources for the jobs when there are no jobs
  * 998ef35 Mention puppet-repo custom.rb file.
  * a7a1919 Fix versions of rake and bundler.
  * 86bdd55 Default to WHOAMI=rennes when testing.
  * 340b057 Allow to customize SSH key.
  * eab0488 Remove static crohr username.
  * 745f359 Add .rvmrc

 -- Ghislain Charrier <ghislain.charrier@inria.fr>  Thu, 21 Jun 2012 16:29:38 +0200

g5k-api (3.0.33-1) unstable; urgency=low

  * ae0787f Add cap yank to remove release package.
  * 6e3d96d Revert "Do not output debugging info for pings originating from Squid proxy."
  * 1c52c68 Revert "Switch to BufferedSyslogger in production and development environments."

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 19 Mar 2012 14:20:23 +0100

g5k-api (3.0.32-1) unstable; urgency=low

  * 27e79b9 Add bootstrap script.
  * 27db705 Do not output debugging info for pings originating from Squid proxy.
  * 3fbcf5e Remove useless debug output.
  * ebdfbe7 Switch to BufferedSyslogger in production and development environments.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 19 Mar 2012 11:57:11 +0100

g5k-api (3.0.31-1) unstable; urgency=low

  * def627b Support comment column in OAR, when returning node status. Fixes bugzilla#4199.
  * facf8a6 Parametrize gateway in deploy.rb

 -- Cyril Rohr <cyril.rohr@inria.fr>  Fri, 16 Mar 2012 15:12:43 +0100

g5k-api (3.0.30-1) unstable; urgency=low

  * 9aef8b7 Forgot to backport fix for number of cores/nodes.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Thu, 26 Jan 2012 09:28:12 +0100

g5k-api (3.0.29-1) unstable; urgency=low

  * 1982b62 RootController is now a subclass of ResourcesController.
  * 7637875 Fix max FiberPool size to 4.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Tue, 17 Jan 2012 13:47:21 +0100

g5k-api (3.0.28-1) unstable; urgency=low

  * baf380c Fix CHANGELOG.
  * 0cefe0a Return full deployment details after creating a new deployment.
  * 7d35c02 Fix bug in job description.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Thu, 12 Jan 2012 14:45:36 +0100

g5k-api (3.0.27-1) unstable; urgency=low

  * b92883d Disable syslogger, as there are too many errors due to this component.
  * 59c4ed5 Fix URI.
  * 2d28851 /var/log/g5k-api should be owned by g5k-api.
  * 34ac137 Add spec for Grid5000::Router.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Thu, 12 Jan 2012 13:27:14 +0100

g5k-api (3.0.26-1) unstable; urgency=low

  * edabe4c Add support for X-Api-Version.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Thu, 12 Jan 2012 11:16:35 +0100

g5k-api (3.0.25-1) unstable; urgency=low

  * fa09e13 Do not deluser on upgrade.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Tue, 03 Jan 2012 11:44:52 +0100

g5k-api (3.0.24-1) unstable; urgency=low

  * 8d5ff24 Correctly handle XMPP disconnections, and reconnect.
  * b075da1 Expand changelog.
  * 8dae0b8 rack.input does not necessarily have a #size method. Fix this.
  * 25cbf83 Ensure correct permissions on /var/db/g5k-api.
  * dfbcc9a Replace 'nodes' by 'cores' in 'resources_by_type' hash in the details of a job.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Tue, 03 Jan 2012 11:31:38 +0100

g5k-api (3.0.23-1) unstable; urgency=low

  * 6dc4316 Atempts to rescue XMPP ParserError.
  * c7b4dff Display specific color for standby nodes.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 28 Nov 2011 10:42:10 +0100

g5k-api (3.0.22-1) unstable; urgency=low

  * 478d27e Remove some debugging output, and filter the list of jobs fetched from the UI.
  * f2e87ae Fix capistrano develop task.
  * 7f6e6b0 Increase timeout for fetching list of valid clusters.
  * 811add3 Explain how to develop on the UI.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Fri, 25 Nov 2011 11:21:15 +0100

g5k-api (3.0.21-1) unstable; urgency=low

  * fd3017a Handle XMPP errors.
  * 2c633f4 Use https URIs for Twitter and Google Chart API.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Fri, 25 Nov 2011 09:34:19 +0100

g5k-api (3.0.20-1) unstable; urgency=low

  * 8cafe60 Wow, .gitignore was ignoring public/ui/**/vendor folders.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Thu, 24 Nov 2011 16:52:39 +0100

g5k-api (3.0.19-1) unstable; urgency=low

  * 4c4d87c Serve static files from app, even in production.
  * 099e3c4 Fix develop capistrano task.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Thu, 24 Nov 2011 13:54:38 +0100

g5k-api (3.0.18-1) unstable; urgency=low

  * 9e35275 Fix that fucking router. Finally.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 23 Nov 2011 15:36:02 +0100

g5k-api (3.0.17-1) unstable; urgency=low

  * 1ede204 Fix bad require.
  * 7f59908 Better explain how to setup development environment.
  * d023d20 Explain how to release and install new version.
  * c14aa96 Take X-Api-Path-Prefix and X-Api-Mount-Path into account when redirecting requests.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 23 Nov 2011 15:25:15 +0100

g5k-api (3.0.16-1) unstable; urgency=low

  * 1491ebc Display response payload when proxied request failed.
  * 84c024d Insert Rack::FiberPool earlier in the middleware stack.
  * 6adf005 gitignore pkg/
  * 939da4a Cosmetic fix.
  * dc9c069 Fill in changelog.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 16 Nov 2011 14:10:41 +0100

g5k-api (3.0.15-1) unstable; urgency=low

  * db02e7c Fix XMPP notifications. Once again.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Tue, 15 Nov 2011 16:39:23 +0100

g5k-api (3.0.14-1) unstable; urgency=low

  * 93aba18 Restart XMPP handler for each notification sending.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 09 Nov 2011 16:59:23 +0100

g5k-api (3.0.13-1) unstable; urgency=low

  * a78a155 Disable duplicate debug.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 09 Nov 2011 16:19:35 +0100

g5k-api (3.0.12-1) unstable; urgency=low

  * f5d9d0b Redirect thin log to /var/log/g5k-api/thin.log.
  * baa7377 Remove whitespace.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 09 Nov 2011 16:15:59 +0100

g5k-api (3.0.11-1) unstable; urgency=low

  * 984592b Fix construction of URIs in reference api.
  * 929f735 Fix cap release task.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 09 Nov 2011 14:06:13 +0100

g5k-api (3.0.10-1) unstable; urgency=low

  * 2f2e02a Add API version in daemon tag.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 09 Nov 2011 12:04:45 +0100

g5k-api (3.0.9-1) unstable; urgency=low

  * beba5d8 No longer force authentication to send notifications.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 09 Nov 2011 11:56:03 +0100

g5k-api (3.0.8-1) unstable; urgency=low

  * 3debaa7 Added vlans link, and more tests for links in testing branch.
  * 10cca1c Automatically infer subresource links for reference API.
  * c422c4b Automatically create databases in development environment.
  * cfe3679 Added support for network_equipments.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 09 Nov 2011 11:25:39 +0100

g5k-api (3.0.7-1) unstable; urgency=low

  * 37f538d Display API version and timestamp in root resource.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Tue, 08 Nov 2011 17:36:11 +0100

g5k-api (3.0.6-1) unstable; urgency=low

  * be526bc /sites/:site/status is an item, not a collection.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Tue, 08 Nov 2011 17:27:55 +0100

g5k-api (3.0.5-1) unstable; urgency=low

  * 104f86c Use application/vnd.grid5000.{collection,item}+json instead of application/vnd.grid5000+json

 -- Cyril Rohr <cyril.rohr@inria.fr>  Tue, 08 Nov 2011 16:02:24 +0100

g5k-api (3.0.4-1) unstable; urgency=low

  * 9e3d185 Disable middleware that tried to show off nice exception pages. We're an API guys ;-0
  * ae1c428 Updated spec for root controller.
  * 2d64973 Add missing links to /users and /notifications.
  * f274b8e Implement GET /notifications to be Restfully compliant.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 07 Nov 2011 18:03:50 +0100

g5k-api (3.0.3-1) unstable; urgency=low

  * 9d56138 Added missing libssl-dev dependency, to fix eventmachine crash when no SSL is present (XMPP notifications).

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 07 Nov 2011 11:33:03 +0100

g5k-api (3.0.2-1) unstable; urgency=low

  * 103d6ab Fix broken symlink.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 07 Nov 2011 10:19:39 +0100

g5k-api (3.0.1-1) unstable; urgency=low

  * c1ba19f Small fix to install file.
  * 0dafab5 More debian packaging goodness.
  * 1d90c82 No longer storing config files in config/options/
  * 47b0a36 Set default params[:format] for every request.
  * 633bd53 Correctly handle application/vnd.grid5000+json and application/json media types.
  * 05e0a6a Fix postinstall.
  * 87750f2 Fix package recipe.
  * 3d70912 Fix postinstall.
  * 40fd77f Depends on libxslt1.1, not libxslt.
  * ab18c2c Declare missing dependencies.
  * 34889ac Make init script LSB-compliant.
  * 0b0e8c4 Fix packaging tasks (again).
  * 34ffa28 Do not package test and development dependencies.
  * 1309680 gitignore .bundle/
  * c831388 Fix packaging tasks.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Tue, 25 Oct 2011 10:07:57 +0200

g5k-api (3.0.0-1) unstable; urgency=low

  * c4fea1a Fix packaging task.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Thu, 20 Oct 2011 14:53:27 +0200

g5k-api (2.2.11-1) unstable; urgency=low

  * 96b4651 Tag process name.
  * 72eebc5 Added missing filters for GET /jobs.
  * 41bc3d1 Added copyright info in LICENSE.
  * f8cde54 Added support for standby state.
  * 6ca7d56 Added instructions for maintenance.
  * ea388dc Add support for HTTP and SMTP notifications.
  * 2dcfa76 Clarify purpose of the two Notification models.
  * 17a2f5e Fix minor issues for XMPP notifications.
  * 8a844b8 Adding RackDebugger to log request head and body.
  * a8138e8 First pass at XMPP notifications using EventMachine.
  * 8e59904 Preparing notifications.
  * 2ea5062 Removed useless lines.
  * 631ccb4 Ran bundle update.
  * 240e509 Remove parenthesis from Gemfile.
  * 8114e7c Fix issue with pending tests.
  * 84cdeb2 Small changes to oar database import task.
  * 4f90581 Small improvement to capistrano recipe.
  * 3b44102 Updated tests to remove EM.synchrony{... EM.stop}; More capistrano/puppet goodness.
  * cd9c967 Adding capistrano tasks for easy packaging, development environment installation, and APT release.
  * 29d39b1 Use HTTP URI to fetch eventmachine git repo.
  * 8f4ae2b Now use mysql2 gem.
  * 372ee63 Add proper require in controllers.
  * 102df4b Redirect /ui/events to https://www.grid5000.fr/status

 -- Cyril Rohr <cyril.rohr@inria.fr>  Thu, 20 Oct 2011 14:50:44 +0200

g5k-api (2.1.11-1) unstable; urgency=low

  * 639fa0c Create g5k-api user, and launch daemon as g5k-api.
  * 5bc4020 Renamed g5kapi into g5k-api.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Fri, 25 Feb 2011 11:32:52 +0100

g5k-api (2.0.11-1) unstable; urgency=low

  * 7304f99 Better handling of configuration files.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 23 Feb 2011 21:59:39 +0100

g5k-api (2.0.10-1) unstable; urgency=low

  * ab1688c Bundle bundler as well, to avoid having to build another debian package.
  * e3fcb3c Added description for bump tasks.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 23 Feb 2011 20:59:12 +0100

g5k-api (2.0.9-1) unstable; urgency=low

  * 22c85fc Minor fixes to packaging tasks. Updated README.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 23 Feb 2011 17:14:51 +0100

g5k-api (2.0.8-1) unstable; urgency=low

  * 3631472 Added rake tasks to bump version and generate debian changelog.
  * 3a180c5 Add a large expiration date to resources asked with a specific version.
  * ca65901 Fixed notification message for deployment.
  * 4a00890 Deployment#deliver_notification must always return true.
  * b064cf0 Test notifications URI.
  * a2dca0a Force use of Sych YAML engine instead of Psych, since the latter has issues with merge keys.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Wed, 23 Feb 2011 17:08:17 +0100

g5k-api (2.0.7-1) unstable; urgency=low

  * 7a8f794 No longer Warning HTTP header in Rack::PrettyJSON. Use X-Info instead.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 21 Feb 2011 16:33:15 +0100

g5k-api (2.0.6-1) unstable; urgency=low

  * Fixed cache-control directives.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 21 Feb 2011 11:13:39 +0100

g5k-api (2.0.5-1) unstable; urgency=low

  * Fixed dependency loading issue.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 21 Feb 2011 10:36:17 +0100

g5k-api (2.0.4-1) unstable; urgency=low

  * Better PrettyJSON middleware.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 21 Feb 2011 10:17:21 +0100

g5k-api (2.0.3-1) unstable; urgency=low

  * Added UI.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 21 Feb 2011 10:02:20 +0100

g5k-api (2.0.2-1) unstable; urgency=low

  * Renamed `prefix` as `subnet_prefix` in OAR::Resource

 -- Cyril Rohr <cyril.rohr@inria.fr>  Mon, 21 Feb 2011 09:20:57 +0100

g5k-api (2.0.1-1) unstable; urgency=low

  * Working version.

 -- Cyril Rohr <cyril.rohr@inria.fr>  Fri, 18 Feb 2011 13:08:29 +0100

g5k-api (2.0.0-1) unstable; urgency=low

  * Initial release.

 -- Cyril Rohr <crohr@debian-vanilla.localdomain>  Fri, 28 Jan 2011 15:24:42 +0100
